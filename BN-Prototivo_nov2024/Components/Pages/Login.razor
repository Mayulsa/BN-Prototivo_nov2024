@layout LoginLayout
@page "/"
@using BN_Prototivo_nov2024.Components.Layout
@inject NavigationManager Navigation

<h3 class="text-center">Please sign in</h3>

<EditForm Model="loginModel" OnValidSubmit="HandleLogin">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="mb-3">
        <label for="email" class="form-label">Email address</label>
        <InputText id="email" class="form-control" @bind-Value="loginModel.Email" />
    </div>

    <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <InputText id="password" type="password" class="form-control" @bind-Value="loginModel.Password" />
    </div>

    <div class="form-check mb-3">
        <InputCheckbox id="rememberMe" class="form-check-input" @bind-Value="loginModel.RememberMe" />
        <label class="form-check-label" for="rememberMe">Remember me</label>
    </div>

    <button type="submit" class="btn btn-primary w-100">Sign in</button>
</EditForm>

@code {
    private LoginModel loginModel = new LoginModel();

    private async Task HandleLogin()
    {
        // Aquí iría la lógica de autenticación
        if (loginModel.Email == "test@example.com" && loginModel.Password == "password")
        {
            // Redirigir al usuario a la página principal si la autenticación es exitosa
            Navigation.NavigateTo("/");
        }
        else
        {
            // Mostrar mensaje de error o manejar el fallo de autenticación
        }
    }

    public class LoginModel
    {
        //[Required(ErrorMessage = "Email is required")]
        public string Email { get; set; }

        //[Required(ErrorMessage = "Password is required")]
        public string Password { get; set; }

        public bool RememberMe { get; set; }
    }
}


